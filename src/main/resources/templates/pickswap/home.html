<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pick Swap - ë¯¿ì„ ìˆ˜ ìˆëŠ” ì¤‘ê³ ê±°ë˜</title>
    <link rel="stylesheet" th:href="@{/css/pickswap.css}">
</head>
<body>
    <!-- Header -->
    <header class="pickswap-header">
        <div class="header-container">
            <a href="/pickswap" class="logo">
                <svg class="logo-svg" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- ì™¼ìª½ í™”ì‚´í‘œ -->
                    <path d="M8 16L14 10L14 13L18 13L18 10L24 16L18 22L18 19L14 19L14 22L8 16Z" fill="#09B1BA"/>
                    <!-- ì™¸ê³½ ì› -->
                    <circle cx="16" cy="16" r="14" stroke="#09B1BA" stroke-width="2" fill="none"/>
                    <!-- ì‘ì€ ì ë“¤ (ê±°ë˜ ëŠë‚Œ) -->
                    <circle cx="6" cy="16" r="1.5" fill="#13C1CA"/>
                    <circle cx="26" cy="16" r="1.5" fill="#13C1CA"/>
                </svg>
                <span class="logo-text">Pick Swap</span>
            </a>
            
            <div class="search-bar">
                <input type="text" 
                       id="search-input" 
                       class="search-input" 
                       placeholder="ì–´ë–¤ ìƒí’ˆì„ ì°¾ìœ¼ì‹œë‚˜ìš”?">
                <button id="search-btn" class="search-btn">
                    ğŸ”
                </button>
            </div>
            
            <div class="nav-actions">
                <a href="/pickswap/auctions" class="nav-btn" style="background: #ff9800; color: white;">
                    ğŸ”¨ ê²½ë§¤
                </a>
                <a href="/pickswap/sell" class="nav-btn btn-sell">
                    âœ¨ íŒë§¤í•˜ê¸°
                </a>
                <a href="/pickswap/my-products" class="nav-btn btn-my-products">
                    ğŸ“¦ ë‚´ ìƒí’ˆ
                </a>
                <div id="authSection"></div>
            </div>
        </div>
    </header>
    
    <!-- Category Filter -->
    <div class="category-filter">
        <div class="category-container">
            <button class="category-chip" data-category="">
                ğŸ  ì „ì²´
            </button>
            <button class="category-chip" data-category="ELECTRONICS">
                ğŸ“± ì „ìê¸°ê¸°
            </button>
            <button class="category-chip" data-category="FASHION">
                ğŸ‘• íŒ¨ì…˜/ì˜ë¥˜
            </button>
            <button class="category-chip" data-category="HOME_APPLIANCES">
                ğŸ”Œ ê°€ì „ì œí’ˆ
            </button>
            <button class="category-chip" data-category="FURNITURE">
                ğŸ›‹ï¸ ê°€êµ¬/ì¸í…Œë¦¬ì–´
            </button>
            <button class="category-chip" data-category="BOOKS">
                ğŸ“š ë„ì„œ
            </button>
            <button class="category-chip" data-category="SPORTS">
                âš½ ìŠ¤í¬ì¸ /ë ˆì €
            </button>
            <button class="category-chip" data-category="TOYS">
                ğŸ® ì™„êµ¬/ì·¨ë¯¸
            </button>
            <button class="category-chip" data-category="BEAUTY">
                ğŸ’„ ë·°í‹°/ë¯¸ìš©
            </button>
            <button class="category-chip" data-category="PET_SUPPLIES">
                ğŸ¾ ë°˜ë ¤ë™ë¬¼ìš©í’ˆ
            </button>
            <button class="category-chip" data-category="OTHERS">
                ğŸ“¦ ê¸°íƒ€
            </button>
        </div>
    </div>
    
    <!-- Main Content -->
    <main class="main-content">
        <div id="product-grid" class="product-grid">
            <!-- Products will be loaded here -->
        </div>
        
        <div id="pagination" class="pagination">
            <!-- Pagination will be loaded here -->
        </div>
    </main>
    
    <script th:src="@{/js/pickswap.js}"></script>
    <script>
        // ë¡œê·¸ì¸ ìƒíƒœ ì²´í¬
        function checkAuth() {
            const token = localStorage.getItem('jwt_token');
            const username = localStorage.getItem('username');
            const authSection = document.getElementById('authSection');
            
            if (token && username) {
                authSection.innerHTML = `
                    <span style="margin-right: 10px; color: #666;">ğŸ‘¤ ${username}</span>
                    <button onclick="logout()" class="nav-btn" style="background: #f44336; color: white;">ë¡œê·¸ì•„ì›ƒ</button>
                `;
            } else {
                authSection.innerHTML = `
                    <a href="/login" class="nav-btn" style="background: #4CAF50; color: white;">ë¡œê·¸ì¸</a>
                `;
            }
        }
        
        function logout() {
            localStorage.removeItem('jwt_token');
            localStorage.removeItem('username');
            alert('ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.');
            location.reload();
        }
        
        checkAuth();
    </script>
</body>
</html>
